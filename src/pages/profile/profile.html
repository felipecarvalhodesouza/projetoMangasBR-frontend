<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Profile</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>

    <div class="user-photo" padding-top>
        <ion-avatar>
          <img [src]="user?.imageUrl || 'assets/imgs/avatar-blank.png'" style="border-radius: 50%">
        </ion-avatar>
        <ion-label style="text-align: center">
            <p style="color:gray" (click)="presentSendProfilePictureModal()">Trocar imagem de perfil</p>
        </ion-label>
      </div>

    <div padding>
        <ion-segment [(ngModel)]="segments">
          <ion-segment-button value="data">
            Dados cadastrais
          </ion-segment-button>
          <ion-segment-button value="stats">
            Coleção
          </ion-segment-button>
        </ion-segment>
      </div>

    <div [ngSwitch]="segments">
    <ion-list *ngSwitchCase="'data'">
      <ion-item>
        <ion-icon name="person" slot="start"></ion-icon>
        <ion-label>
          <p>Display Name</p>
          <h2>{{user?.name}}</h2>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-icon name="mail" slot="start"></ion-icon>
        <ion-label>
          <p>Email</p>
          <h2>{{user?.email}}</h2>
        </ion-label>
      </ion-item>
      <ion-item>
          <ion-icon name="memberSince" slot="start"></ion-icon>
          <ion-label>
            <p>Membro desde</p>
            <h2>{{user?.memberSince}}</h2>
          </ion-label>
        </ion-item>
        <div style="text-align: center">
            <button class="button" ion-button (click)="changeData()">Editar dados</button>
            <button class="button" ion-button (click)="changePassword()">Trocar senha</button>
        </div>
    </ion-list>

    <ion-list *ngSwitchCase="'stats'">
      <ion-item>
        <ion-label>
          <p class="collectionSegment">Títulos na coleção:</p>
          <h2 class="collectionSegment">{{titles}}</h2>  
        </ion-label>
        <ion-label>
          <p class="collectionSegment">Títulos completos</p>
          <h2 class="collectionSegment">{{completedTitles}} <ion-icon *ngIf="titles>=10" name="trophy"></ion-icon></h2>
       </ion-label>
      </ion-item>
      <ion-item>
        <ion-label>
          <p class="collectionSegment">Volumes</p>
          <h2 class="collectionSegment">{{numberOfVolumes}}</h2>
        </ion-label>
        <ion-label>
          <p class="collectionSegment">Volumes faltantes</p>
          <h2 class="collectionSegment">{{missingVolumes}}</h2>
        </ion-label>
      </ion-item>
    </ion-list>
  </div>
  </ion-content>

